## **DRY problem in Controller Async Functions**

![Alt repeat problem](pic/01.jpg)

## **Solution Step by Step**

![Alt create higher function to wrap async](pic/02.jpg)

![Alt split success out of try catch](pic/03.jpg)

![Alt move catch error to higher func](pic/04.jpg)

![Alt use higher func](pic/05.jpg)

## **Still Not Work!?**

![Alt 2 reason why not work](pic/06.jpg)

![Alt use return to solve](pic/07.jpg)

![Alt npm start but error](pic/08.jpg)

![Alt remove weird fn](pic/09.jpg)

![Alt npm start properly](pic/10.jpg)

![Alt query non-exist id](pic/11.jpg)

## **Export catchAsync to New file in utils**

![Alt export catchAsync to utils file](pic/12.jpg)

![Alt import back to controller](pic/13.jpg)

## **Rewrite all Async Functions in Conrtroller**

![Alt edit all async func in controller](pic/14.jpg)

![Alt don't forget next](pic/15.jpg)

![Alt final test ](pic/16.jpg)
