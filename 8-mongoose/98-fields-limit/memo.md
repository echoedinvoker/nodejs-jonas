## **Projecting - Copy/Paste and modify**

![Alt Project](pic/bandicam%202022-11-10%2017-36-52-462.jpg)

- We can use Query.potype.select to select or exclude fields from reponse to client.
  - We call it **project**.
  - **select** and **sort** are also methods under **Query.prototype**, so the structure of this code section is very similar to the sort part, and can be simply copy paste from sort, then do some modify.

## **About Mongo field \_\_v**

### _What is \_\_v?_

![Alt __v](pic/bandicam%202022-11-10%2017-39-30-184.jpg)

- **\_\_v** is a field automatically generated by Mongo for **internal use by Mongo itself**.
  - So there is actually no need for **\_\_v** to reponse to the client.

### _Exclude \_\_v_

![Alt else](pic/bandicam%202022-11-10%2020-07-17-251.jpg)

- In this way, if any field is selected in the request or if no param field is used in the URL, the data from the response to the client will not contain the **\_\_v** field.

## **Permanent Exclude fields**

### _Still response \_\_v_

![Alt still __v](pic/bandicam%202022-11-10%2020-11-08-306.jpg)

- If all values of fields use minus in URL, the fields that are not excluded will be reponse to the client side, so **\_\_v** will still be reponsed to the client.
  - This means we do not permanently prevent **\_\_v** from being reponsed to the client.

### _property 'select' of Schema_

![Alt select in Schema](pic/bandicam%202022-11-10%2020-18-04-424.jpg)

- We can write the **\_\_v** property in the **Schema** and use **select: false** to permanently prevent reponse **\_\_v** to the client.
