## **Create New Util - email.js for sending email**

![Alt email.js](pic/01.jpg)

### _nodemailer_

> nodemailer is a third-party package that allows us to send mail using nodeJS

![Alt nodemailer](pic/02.jpg)

## **Step 1(mail): Create Transporter**

### _Gmail_

![Alt gmail](pic/03.jpg)

### _MailTrap_

![Alt google mailtrap](pic/04.jpg)

![Alt signup](pic/05.jpg)

![Alt create inbox](pic/06.jpg)

![Alt get credentials](pic/07.jpg)

![Alt copy past credentials to env](pic/08.jpg)

![Alt replace gmail with mailtrap](pic/09.jpg)

## **Step 2(mail): Define the email options**

![Alt 2) define the email options](pic/10.jpg)

## **Step 3(mail): Actually send the mail**

![Alt 3) actually send the mail](pic/11.jpg)

![Alt await/async](pic/12.jpg)

![Alt import to controller](pic/13.jpg)

## **The Way We'll Use "resetPassword"**

![Alt the way we use resetPassword](pic/14.jpg)

![Alt edit router of it](pic/15.jpg)

## **Step 3(forgotPassword): Send Reset Token to User's MailBox**

![Alt finish 3) of forgotPassword](pic/16.jpg)

## **Error Handling**

![Alt try catch](pic/17.jpg)

## **TEST**

![Alt test with Postman](pic/18.jpg)

![Alt check mail in mailtrap](pic/19.jpg)
